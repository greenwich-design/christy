document.addEventListener("DOMContentLoaded",(function(){window.innerHeight;var e,t,o=document.querySelector("#product-page"),n=document.querySelector("#product-panel"),s=document.querySelector("#product-mobile-gallery"),i=document.querySelector("#product-info-handle"),c=document.querySelector("#product-wrap"),r=document.querySelector("#product-info-wrap"),a=document.querySelector("[data-moboptions]"),d=document.querySelector("[data-togglecolours]"),l=document.querySelector("#colour-picker-mobile"),u=0;function f(){if(n.offsetHeight+i.offsetHeight+u>window.innerHeight-1.5*document.querySelector(".header-bar").offsetHeight?c.classList.contains("no-drawer")||(c.classList.add("no-drawer"),c.scrollTop=0):c.classList.contains("no-drawer")&&(c.classList.remove("no-drawer"),c.scrollTop=0),c.classList.contains("no-drawer"))document.documentElement.style.setProperty("--product-panel","0px");else{var e=n.offsetHeight+i.offsetHeight;e>o.offsetHeight&&(e=o.offsetHeight,"bottom"!=o.dataset.pos&&""!=o.dataset.pos||setTimeout((function(){t()}),501)),document.documentElement.style.setProperty("--product-panel",e+"px")}}if(o.classList.remove("max-md:opacity-0"),a&&a.offsetHeight,l&&(u=l.offsetHeight),o.classList.add("init"),setTimeout((function(){o.classList.add("[&.init]:max-md:transition-[transform,background]","max-md:!duration-500")}),2),f(),o&&s){var m=function(e){e.clientY?q=e.clientY:e.changedTouches&&(q=e.changedTouches[0].clientY)},p=function(e){if(L="",y="",E="",e.target==i&&(S=!0),S&&(e.target.closest("#product-page")||e.target==o)){var t=window.getComputedStyle(document.querySelector("#product-page")),n=new DOMMatrixReadOnly(t.transform);e.clientY?(e.clientY,L=e.clientY,L-=n.m42,y=e.clientY-L):(e.changedTouches[0].clientY,L=e.changedTouches[0].clientY,L-=n.m42,y=e.changedTouches[0].clientY-L),w=!0}e.target.closest("#product-page")},v=function(e){e.clientY?b=q>e.clientY?"down":"up":e.changedTouches&&(b=q>e.changedTouches[0].clientY?"down":"up"),S||"up"!=b||0!=r.scrollTop||(S=!0,e.changedTouches&&p(e)),w&&S&&(o.classList.add("max-md:!transition-colors"),r.classList.remove("max-md:!overflow-auto"),e.clientY?(E=e.clientY-L,-1*parseInt(E)>=n.offsetHeight+i.offsetHeight&&-1*parseInt(E)<=o.offsetHeight&&(o.style.transform="translateY("+E+"px)")):(E=e.changedTouches[0].clientY-L,-1*parseInt(E)>=n.offsetHeight+i.offsetHeight&&-1*parseInt(E)<=o.offsetHeight&&(o.style.transform="translateY("+E+"px)")))},h=function(n){if(w=!1,o.classList.remove("max-md:!transition-colors"),S){var s=!1;E&&y&&(E<y-50&&(o.dataset.pos="top",s=!0),E>y+50&&(o.dataset.pos="bottom",s=!0),"top"===o.dataset.pos&&s?t():e())}},g=function(e){if(s&&!s.classList.contains("is-changing")){var o=s.scrollHeight-s.offsetHeight-1;s.scrollTop>=o&&(S=!1,t())}},w=!1,L="",y="",E="",S=!0,q="",b="";t=function(){l&&(l.classList.remove("!-translate-y-full"),l.classList.remove("!opacity-100"),l.classList.remove("!visible")),setTimeout((function(){o.style.transform="translateY(-100%)",r.classList.add("max-md:!overflow-auto");var e=new Event("spliderefresh");window.dispatchEvent(e)}),100),S=!1,o.dataset.pos="top"},e=function(){setTimeout((function(){o.style.transform="translateY(calc(-0% - var(--product-panel)))",r.classList.remove("max-md:!overflow-auto")}),100),S=!1;var e=new Event("closeoptions");window.dispatchEvent(e),setTimeout((function(){r.scrollTo({top:0,left:0,behavior:"smooth"}),S=!0,o.dataset.pos="bottom"}),501)},window.addEventListener("mousedown",p),window.addEventListener("touchstart",p),window.addEventListener("mousemove",v),window.addEventListener("touchmove",v),window.addEventListener("mouseup",h),window.addEventListener("touchend",h),window.addEventListener("mousedown",m),window.addEventListener("touchstart",m),s.addEventListener("scroll",g),window.addEventListener("resize",(function(){f(),g(),e()})),window.addEventListener("panelheight",(function(){f()})),window.addEventListener("openoptions",(function(){!function(){var e=document.querySelector("[data-moboptions]");e.style.height="auto",e.dataset.moboptions="true",f(),e.offsetHeight,r.classList.add("max-md:!overflow-auto")}()})),window.addEventListener("closeoptions",(function(){!function(){var e=document.querySelector("[data-moboptions]");f(),e.offsetHeight}()}))}var T=document.querySelectorAll("#option-nav-mob > a"),H=document.querySelectorAll("variant-radios fieldset");T.length&&H&&T.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.getAttribute("href");T.forEach((function(e){e.classList.remove("selected-tab")})),e.classList.add("selected-tab"),H.forEach((function(e){e.classList.add("max-md:hidden")}));var n=document.querySelector(o);n&&n.classList.remove("max-md:hidden"),f()}))})),l&&(document.querySelector("#product-wrap").addEventListener("click",(function(){l.classList.remove("!-translate-y-full","!opacity-100","!visible")})),document.querySelector("#product-mobile-gallery").addEventListener("touchmove",(function(){l.classList.remove("!-translate-y-full","!opacity-100","!visible")})),l.addEventListener("click",(function(e){e.stopPropagation()})),l.querySelectorAll("button").forEach((function(e){e.addEventListener("click",(function(){s.classList.add("is-changing"),setTimeout((function(){l.classList.add("!-translate-y-full","!opacity-100","!visible")}),1),setTimeout((function(){s.classList.remove("is-changing")}),501)}))})),d&&d.addEventListener("click",(function(t){if(t.stopPropagation(),l.classList.toggle("!-translate-y-full"),l.classList.toggle("!opacity-100"),l.classList.toggle("!visible"),c.classList.contains("no-drawer")){if(l){var o=document.querySelector("#colour-picker-mobile").getBoundingClientRect().top+document.querySelector("#product-wrap").scrollTop;document.querySelector("#product-wrap").scrollTop+document.querySelector(".header-bar").offsetHeight>o&&document.querySelector("#product-wrap").scrollTo({top:o-document.querySelector(".header-bar").offsetHeight,left:0,behavior:"smooth"})}}else e()})));var Y=document.querySelectorAll("button.variant-button");if(Y.length&&Y.forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.for;document.querySelector("#"+t).click()}))})),x=window.navigator.userAgent,k=x.indexOf("MSIE "),M=x.indexOf("Trident/"),k>0||M>0){var x,k,M,A=document.querySelector('#{{ product_form_id }} input[name="id"]'),I=document.createElement("div"),O=document.querySelector('variant-radios[data-section="{{ section.id }}"]')||document.querySelector('variant-selects[data-section="{{ section.id }}"]');I.innerHTML=document.querySelector(".product-form__noscript-wrapper-{{ section.id }}").textContent,O.outerHTML=I.outerHTML,document.querySelector("#Variants-{{ section.id }}").addEventListener("change",(function(e){A.value=e.currentTarget.value}))}}));