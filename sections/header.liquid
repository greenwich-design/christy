{%- liquid
  for block in section.blocks
    if block.type == '@app'
      assign has_app_block = true
    endif
  endfor
-%}
<script src="{{ 'quick-search.js' | asset_url }}" async defer="defer"></script>
<style>
  .icon-Gifting::after {
    content: '';
    background: url('{{ 'Gifting.svg' | asset_url }}');
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-14px, -17px);
    z-index: 99;
    width: 30px;
    height: 34px;
    background-repeat: no-repeat;
  }
</style>
<header
  id="header"
  class="w-full bg-white header-bar"
>
  {% if section.settings.announcement != blank %}
    <aside
      id=""
      class="relative text-white text-center bg-blue-1 top-0 left-0 font-bold w-full col-span-2 xl:col-span-12  "
    >
      <div class="py-3 container truncate flex justify-center [&>*]:truncate h-[44px] xl:h-[48px] [&_a]:underline">
        {{ section.settings.announcement }}
      </div>
    </aside>
  {% endif %}
  <div class="w-full flex justify-between lg:grid lg:grid-cols-3 xl:grid-cols-12 px-4 lg:px-8 z-10 h-[70px] pointer-events-auto lg:justify-start items-center shadow-lg border-b border-b-slate-300">
    <div
      id="search-bar"
      class="fixed !top-[var(--header-height)] lg:!top-[var(--header-height-lg)] w-full bg-white left-0 px-8 flex flex-col gap-4 items-center overflow-hidden opacity-0 pointer-events-none transition-all duration-1000 shadow-lg"
    >
      <div class="flex gap-4 items-center overflow-hidden w-full">
        <div class="">
          {% render 'icon-search' %}
        </div>
        <div class="grow">
          <predictive-search
            class="block search-modal__form group/search"
            data-loading-text="{{ 'accessibility.loading' | t }}"
          >
            <search-form action="{{ routes.search_url }}" method="get" role="search" class="search search-modal__form">
              <input
                type="text"
                class="h-10 w-full outline-none border-b border-b-slate-300"
                autocomplete="one-time-code"
                placeholder="Search..."
                type="search"
                id="search-bar-input"
                name="q"
                value="{{ search.terms | escape }}"
              >
            </search-form>
          </predictive-search>
        </div>
        <button
          id="search-clear-icon"
          class="text-xs hover:underline pr-4 {% if search.terms == "" %} hidden {% endif %}"
        >
          Clear
        </button>
        <button id="search-close-icon" class="">
          {% render 'icon-close' %}
        </button>
      </div>

      <div id="predsearch" class="w-full grid lg:grid-cols-3 pb-4 gap-8">
        <div
          class="predictive-search predictive-search--header max-lg:!max-h-none lg:shadow-megamenu lg:absolute lg:top-full lg:left-0 lg:bg-white/95 hidden group-open/search:!block group-open/search:py-5 lg:p-5 w-full lg:overflow-auto lg:-mt-px"
          tabindex="-1"
          data-predictive-search
        >
          <div class="predictive-search__loading-state !hidden">
            <svg
              aria-hidden="true"
              focusable="false"
              class="spinner"
              viewBox="0 0 66 66"
              xmlns="http://www.w3.org/2000/svg"
            >
              <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
            </svg>
          </div>
        </div>
        <ul class="flex flex-col gap-4">
          <li class="text-base font-bold">Popular Searches</li>
          {% assign popular_searches = section.settings.popular_searches | escape | split: ',' %}
          {% for st in popular_searches %}
            <li>
              <a href="{{routes.search_url }}?q={{ st }}" class="hover:underline">{{ st }}</a>
            </li>
          {% endfor %}
        </ul>
        <div class="hidden lg:grid lg:grid-cols-5 grow gap-4 col-span-2">
          <h3 class="text-base font-bold col-span-5">Featured Products</h3>
          {% for product in section.settings.featured_products %}
            {% render 'card-product', card_product: product, section_id: section.id, horizontal_quick_add: true %}
          {% endfor %}
        </div>
      </div>
    </div>
    <div class="flex gap-4 items-center justify-start xl:hidden">
      <button class=" w-[20px] h-[13px] relative" data-navmobopen aria-label="Open Nav">
        <span class="absolute -left-2 -top-2 space-y-[5px] flex flex-col items-end p-2 w-[36px]">
          <span class="w-full h-[1px] bg-blue-1"></span>
          <span class="w-full h-[1px] bg-blue-1"></span>
          <span class="w-full h-[1px] bg-blue-1"></span>
        </span>
      </button>
      <button id="" class="search-icon block xl:hidden">
        {% render 'icon-search' %}
      </button>
    </div>
    <div id="logo" class="xl:col-span-2">
      {%- if request.page_type == 'index' -%}
        <h1 class="header__heading">
      {%- endif -%}
      <a
        href="{{ routes.root_url }}"
        class="w-[120px] block {% if request.page_type == 'collection' %} max-lg:order-[-1] {% endif %} "
      >
        <img
          class=""
          loading="eager"
          src="{{ 'christy-logo.svg' | asset_url }}"
          width="181"
          height="27"
          alt="{{ shop.name }}"
        >
      </a>
      {%- if request.page_type == 'index' -%}
        </h1>
      {%- endif -%}
    </div>
    <div id="menu" class="col-span-8 h-full hidden xl:block">
      <ul class="menu flex w-full justify-center h-full items-center">
        {% for link in section.settings.menu.links %}
          <li
            class="menu-link group relative h-full items-center flex px-6 group"
          >
            <a
              href="#"
              class="icon-{{ link.object.metafields.custom.menu_icon }} group-hover:font-bold transition-all duration-1000"
              style="color:{{ link.object.metafields.custom.menu_colour }}"
            >
              {{- link.title -}}
            </a>
            <span
              class="absolute w-0 transition-all duration-500 bg-[#2c3b96] group-hover:w-full bottom-0 left-0 h-[2px] block"
              style="background:{{ link.object.metafields.custom.menu_colour }}"
            ></span>
            {% if link.links.size > 0 %}
              <ul class="menu dropdown-child opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto grid grid-flow-col fixed bg-white p-4 !top-[var(--header-height)] lg:!top-[var(--header-height-lg)] left-0 right-0 mx-auto w-full shadow-lg transition-all duration-1000">
                {% for child_link in link.links %}
                  <li class="menu-link font-bold grid grid-flow-row justify-center items-start auto-rows-max py-2">
                    {% assign grand_child_count = child_link.links | size %}

                    {% if grand_child_count == 0 %}
                      <a
                        href="{{ child_link.url }}"
                        class="flex flex-col gap-4 text-base pb-4 hover:underline"
                      >
                        {% if child_link.object.metafields.custom.menu_image != blank %}
                          <img
                            src="{{ child_link.object.metafields.custom.menu_image | file_url }}"
                            width="300"
                            class="w-[300px] h-[300px] object-cover"
                            height="300"
                            alt="{{ child_link.title }}"
                          >
                        {% endif %}
                        <span>{{ child_link.title }}</span>
                      </a>
                    {% else %}
                      <span class="pb-4 block">{{ child_link.title }}</span>
                    {% endif %}

                    {% if child_link.links.size > 0 %}
                      <ul class="menu dropdown-grandchild flex flex-col items-start justify-start gap-4">
                        {% for grandchild_link in child_link.links %}
                          <li class="menu-link font-normal text-left">
                            <a class="hover:underline hover:font-bold" href="{{ grandchild_link.url }}">
                              {{- grandchild_link.title -}}
                            </a>
                          </li>
                        {% endfor %}
                      </ul>
                    {% endif %}
                  </li>
                {% endfor %}
              </ul>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    </div>
    <div id="icons" class="xl:col-span-2">
      <div class="header__icons flex items-center justify-end space-x-4 lg:space-x-7">
        <button id="" class="search-icon hidden xl:block">
          {% render 'icon-search' %}
        </button>
        {%- if shop.customer_accounts_enabled -%}
          <button
            href="{%- if customer -%}{{ routes.account_url }}{%- else -%}{{ routes.account_login_url }}{%- endif -%}"
            class="relative group py-4 account-button"
          >
            {% if customer %}
              {% render 'icon-account-customer' %}
            {% else %}
              {% render 'icon-account' %}
            {% endif %}
            <span class="visually-hidden">
              {%- liquid
                if customer
                  echo 'customer.account_fallback' | t
                else
                  echo 'customer.log_in' | t
                endif
              -%}
            </span>
            <div class="w-[300px] flex-col gap-2 justify-start items-start border border-slate-300 absolute top-full right-0 translate-x-[100px] bg-white p-4 hidden group-hover:flex shadow-lg">
              {% if customer %}
                <h3 class="text-base font-bold text-left">Welcome, {{ customer.name }}</h3>
                <ul class="flex flex-col gap-4 pt-4">
                  <li>
                    <a href="{{ routes.account_url }}" class="flex items-center gap-2 justify-start">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        class="w-5 h-5"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                      >
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
                      </svg>

                      <span> My Account </span>
                    </a>
                  </li>
                  <li>
                    <a href="{{ routes.account_url }}" class="flex items-center gap-2 justify-start">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-5 h-5"
                      >
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122" />
                      </svg>
                      <span>My Orders</span>
                    </a>
                  </li>
                  <li>
                    <a href="{{ routes.account_url }}" class="flex items-center gap-2 justify-start">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-5 h-5"
                      >
                        <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" />
                      </svg>
                      <span> Create A Return </span>
                    </a>
                  </li>
                  <li>
                    <a href="{{ routes.account_addresses_url }}" class="flex items-center gap-2 justify-start">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-6 h-6"
                      >
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" />
                      </svg>

                      <span> Address Book </span>
                    </a>
                  </li>
                </ul>
                <a class="py-4 block text-xs hover:underline" href="{{ routes.account_logout_url }}">Log out</a>
              {% else %}
                <h3 class="text-base font-bold text-left">Sign In or create an account</h3>
                <ul class="flex flex-col gap-1 justify-start items-start text-xs">
                  <li>For faster checkout</li>
                  <li>For easier order tracking</li>
                  <li>To use saved addresses and payment types</li>
                  <li>To access your Saved Items</li>
                </ul>

                <ul class="flex flex-col gap-4 pt-4">
                  <li>
                    <a href="{{ routes.account_login_url }}" class="flex items-center gap-2 justify-start">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        class="w-5 h-5"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                      >
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
                      </svg>

                      <span> Sign In </span>
                    </a>
                  </li>
                  <li>
                    <a href="{{ routes.account_register_url }}" class="flex items-center gap-2 justify-start">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-5 h-5"
                      >
                        <path stroke-linecap="round" stroke-linejoin="round" d="M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z" />
                      </svg>
                      <span>Create An Account</span>
                    </a>
                  </li>
                  <li>
                    <a href="{{ routes.account_login_url }}" class="flex items-center gap-2 justify-start">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-5 h-5"
                      >
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122" />
                      </svg>
                      <span> Track My Order </span>
                    </a>
                  </li>
                  <li>
                    <a href="{{ routes.account_login_url }}" class="flex items-center gap-2 justify-start">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-5 h-5"
                      >
                        <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" />
                      </svg>
                      <span> Create A Return </span>
                    </a>
                  </li>
                </ul>
              {% endif %}
            </div>
          </button>
        {%- endif -%}

        <button
          class="group/wlbtn relative max-lg:hidden flex items-center outline-none mt-[5px] gap-2"
          button-wishlist-drawer-toggle
          button-wishlist-header
          aria-label="Open Wishlist"
          title="Open Wishlist"
        >
          <span class="w-[18px] lg:w-[18px] h-full flex items-center">{% render 'icon-heart' %}</span>
          <span
            style="absolute"
            class=""
            wishlist-count
          ></span>
        </button>

        <a href="{{ routes.cart_url }}" class="relative flex items-center outline-none" id="cart-icon-bubble">
          {%- liquid
            if cart != empty
              render 'icon-cart-notempty'
            else
              render 'icon-cart'
            endif
          -%}
          <span class="visually-hidden">{{ 'templates.cart.cart' | t }}</span>
          {%- if cart != empty -%}
            <div class="cart-count-bubble ml-2 mt-1">
              {%- if cart.item_count < 100 -%}
                <span aria-hidden="true">{{ cart.item_count }}</span>
              {%- endif -%}
              <span class="visually-hidden">{{ 'sections.header.cart_count' | t: count: cart.item_count }}</span>
            </div>
          {%- endif -%}
        </a>
      </div>
    </div>

    <div
      id="NavMob"
      class="pointer-events-auto group/nav xl:hidden fixed z-[-1] inset-0 pt-[80px] flex overflow-hidden invisible opacity-0 transition-[opacity,visibility] [&.open]:opacity-100 [&.open]:visible"
    >
      <div
        id="NavMob-Overlay"
        class="flex-1 h-full bg-black/50 opacity-0 transition-opacity group-[.open]/nav:opacity-100 group-[.open]/nav:delay-500"
      ></div>
      <nav
        class="h-full w-full bg-white md:max-w-[820px] duration-500 transition-transform -translate-x-full group-[.open]/nav:translate-x-0"
        data-scrollerpar
      >
        <div class="overflow-hidden overflow-y-auto flex flex-col h-full">
          <div class="container pt-10">
            <ul class="menu">
              {% for parent in section.settings.menu.links %}
                <li class="space-y-4 break-inside-avoid">
                  {% if parent.links.size > 0 %}
                    <details class="block  !my-0 py-5 lg:py-7 group/acc">
                      <summary class="font-semibold m-body-copy lg:d-h5 space-x-6 flex w-full items-center cursor-pointer">
                        <span class="m-body-copy-med lg:d-body-copy-med mr-auto">
                          {{- parent.title | escape -}}
                        </span>

                        <span
                          class="group-open/acc:rotate-90"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="2.5"
                            stroke="currentColor"
                            class="w-4 h-4"
                          >
                            <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                          </svg>
                        </span>
                      </summary>

                      <div class="pt-5 lg:pt-7">
                        <ul class="space-y-3 font-light">
                          {% for child in parent.links %}
                            <li class="flex items-center justify-between">
                              {% if child.links.size > 0 %}
                                <details class="block  !my-0 py-5 lg:py-7 group/accc w-full">
                                  <summary class="font-semibold m-body-copy lg:d-h5 space-x-6 flex w-full items-center justify-between cursor-pointer pr-1">
                                    <span class="m-body-copy-med lg:d-body-copy-med mr-auto">
                                      {{- child.title -}}
                                    </span>
                                    <span
                                      class="acc-toggle group-open/accc:before:rotate-90"
                                    ></span>
                                  </summary>
                                  <div class="pt-5 lg:pt-7">
                                    <ul class="space-y-3 font-light">
                                      {% for grandchild in child.links %}
                                        <li>
                                          <a
                                            class=""
                                            href="{{grandchild.url}}"
                                          >
                                            {{- grandchild.title -}}
                                          </a>
                                        </li>
                                      {% endfor %}
                                    </ul>
                                  </div>
                                </details>
                              {% else %}
                                <a
                                  class="{% if child.current %} active{% endif %} flex flex-col gap-2 justify-center font-bold w-full"
                                  href="{{child.url}}"
                                >
                                  {% if child.links.size == 0
                                    and child_link.object.metafields.custom.menu_image != blank
                                  %}
                                    <img
                                      src="{{ child.object.metafields.custom.menu_image | file_url }}"
                                      width="300"
                                      class="w-[300px] h-[300px] object-cover"
                                      height="300"
                                      alt="{{ child.title }}"
                                    >
                                  {% endif %}
                                  {{- child.title -}}
                                </a>
                              {% endif %}
                            </li>
                          {% endfor %}
                        </ul>
                      </div>
                    </details>
                  {% else %}
                    <a class="block  !my-0 py-5 lg:py-7 font-semibold m-body-copy lg:d-h5" href="{{ parent.link }}">
                      {{- parent.title | escape -}}
                    </a>
                  {% endif %}
                </li>
              {% endfor %}
            </ul>
          </div>
        </div>
      </nav>
    </div>
  </div>
</header>

{% if section.settings.announcement != blank %}
  <style>
    :root {
      --header-height: calc(74px + 40px);
      --header-height-lg: calc(74px + 44px);
    }
  </style>
{% endif %}
<style>
  .account-button::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: -5px;
    width: 0;
    height: 0;
    width:1.5rem;
    height:1.5rem;
    background:#fff url("{{ 'top-arrow.svg' | asset_url }}") no-repeat center;
    background-size:cover;
    display: none;
  }
  .account-button:hover::after {
    display: inline-block !important;
  }
  .icon-arrow{
    width:1rem;
    height:1rem;
  }
</style>

<script async defer type="text/javascript">
  document.querySelectorAll('.search-icon').forEach((el) => {
    el.addEventListener('click', () => {
      if (document.getElementById('search-bar').classList.contains('opacity-0')) {
        const navMob = document.querySelector('#NavMob');
        document.querySelector('#header').classList.remove('[&>.header-bar]:!translate-y-0');
        navMob.classList.remove('open');
        document.getElementById('search-bar').classList.remove('opacity-0');
        document.getElementById('search-bar').classList.remove('pointer-events-none');
        document.getElementById('search-bar').classList.add('opacity-100');
      } else {
        document.getElementById('search-bar').classList.remove('opacity-100');
        document.getElementById('search-bar').classList.add('opacity-0');
        document.getElementById('search-bar').classList.add('pointer-events-none');
      }
    });
  });
  document.getElementById('search-bar-input').addEventListener('keyup', function cb(e) {
    if (e.target.value !== '') {
      document.getElementById('search-clear-icon').classList.remove('hidden');
    } else {
      document.getElementById('search-clear-icon').classList.add('hidden');
    }
  });
  document.getElementById('search-clear-icon').addEventListener('click', (e) => {
    document.getElementById('search-bar-input').value = '';
    e.target.classList.add('hidden');
  });
  document.getElementById('search-close-icon').addEventListener('click', () => {
    document.getElementById('search-bar').classList.remove('opacity-100');
    document.getElementById('search-bar').classList.add('pointer-events-none');
    document.getElementById('search-bar').classList.add('opacity-0');
  });
</script>

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "name": {{ shop.name | json }},
    {% if settings.logo %}
      "logo": {{ settings.logo | image_url: width: 500 | prepend: "https:" | json }},
    {% endif %}
    "sameAs": [
      {{ settings.social_twitter_link | json }},
      {{ settings.social_facebook_link | json }},
      {{ settings.social_pinterest_link | json }},
      {{ settings.social_instagram_link | json }},
      {{ settings.social_tiktok_link | json }},
      {{ settings.social_tumblr_link | json }},
      {{ settings.social_snapchat_link | json }},
      {{ settings.social_youtube_link | json }},
      {{ settings.social_vimeo_link | json }}
    ],
    "url": {{ request.origin | append: page.url | json }}
  }
</script>

{%- if request.page_type == 'index' -%}
  {% assign potential_action_target = request.origin | append: routes.search_url | append: '?q={search_term_string}' %}
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "WebSite",
      "name": {{ shop.name | json }},
      "potentialAction": {
        "@type": "SearchAction",
        "target": {{ potential_action_target | json }},
        "query-input": "required name=search_term_string"
      },
      "url": {{ request.origin | append: page.url | json }}
    }
  </script>
{%- endif -%}

{% schema %}
{
  "name": "Header",
  "tag": "section",
  "class": "section-header w-full",
  "enabled_on": {
    "groups": ["header"]
  },
  "settings": [
    {
      "type": "richtext",
      "id": "announcement",
      "label": "Announcement bar",
      "info": "If copy is entered, announcement will show"
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Select Menu",
      "info": "This is the main menu of the site."
    },
    {
      "type": "textarea",
      "id": "popular_searches",
      "label": "Popular Searches",
      "info": "Add one serach terma per line"
    },
    {
      "type": "product_list",
      "id": "featured_products",
      "label": "Products",
      "limit": 3
    }
  ],
  "presets": [
    {
      "name": "Header"
    }
  ]
}
{% endschema %}
