{{ 'splide.min.css' | asset_url | stylesheet_tag }}
<div
  id="Infocolumns-{{ section.id }}"
  class="overflow-hidden my-12"
>
  <div class="container">
    <div
      class="splide group/splide max-md:space-y-5"
      data-splide='
        {"arrows": true, "pagination": false, "type": "slide", "destroy": true, "gap": "40px", "autoWidth": true, "focus": 0, "omitEnd": true, "breakpoints": {
          "768": {
            "gap": "20px",
            "destroy": false
          }
        }}
      '
    >
      <header class="flex justify-between space-x-5 items-center md:mb-5 lg:mb-8">
        <h2 class="m-h1 lg:d-h1 text-blue-1">{{ collection.metafields.custom.bestseller_title }}</h2>

        <div class="splide__arrows splide__arrows--ltr hidden group-[.is-initialized]/splide:max-md:!flex justify-end ml-auto !-mr-[15px]">
          <button
            class="splide__arrow splide__arrow--prev !w-10 !h-10 disabled:!opacity-0 transition-opacity !bg-transparent !static !transform-none outline-none"
            type="button"
            aria-label="Previous slide"
            aria-controls="splide01-track"
          >
            <svg class="w-full" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
              <path class="fill-blue-1" d="M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z"/>
            </svg>
          </button>
          <button
            class="splide__arrow splide__arrow--next !w-10 !h-10 disabled:!opacity-0 transition-opacity !bg-transparent !static !transform-none outline-none"
            type="button"
            aria-label="Next slide"
            aria-controls="splide01-track"
          >
            <svg class="w-full" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
              <path class="fill-blue-1" d="M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z"/>
            </svg>
          </button>
        </div>
      </header>

      <div class="splide__track !overflow-visible">
        <div class="splide__list flex md:!grid md:grid-cols-3 text-blue-1 md:gap-3">
          {% for product in collection.metafields.custom.bestsellers.value %}
            {% render 'card-product', card_product: product, section_id: section.id %}
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

{% style %}
  {%- if section.settings.title_font_size_mob != blank -%}
  #shopify-section-{{ section.id }} .block-title {
    font-size: {{ section.settings.title_font_size_mob }}px;
  }
  {%- endif -%}

  {%- if section.settings.copy_font_size_mob != blank -%}
  #shopify-section-{{ section.id }} .block-copy {
    font-size: {{ section.settings.copy_font_size_mob }}px;
  }
  {%- endif -%}

  {%- if section.settings.title_font_weight != blank -%}
  #shopify-section-{{ section.id }} .block-title {
    font-weight: {{ section.settings.title_font_weight }};
  }
  {%- endif -%}

  {%- if section.settings.copy_font_weight != blank -%}
  #shopify-section-{{ section.id }} .block-copy {
    font-weight: {{ section.settings.copy_font_weight }};
  }
  {%- endif -%}

  {%- if section.settings.title_font_family != blank and section.settings.title_font_family == 'serif' -%}
  #shopify-section-{{ section.id }} .block-title {
    font-family: "Hatton", serif;
  }
  {%- endif -%}

  {%- if section.settings.copy_font_family != blank and section.settings.copy_font_family == 'serif' -%}
  #shopify-section-{{ section.id }} .block-copy {
    font-family: "Hatton", serif;
  }
  {%- endif -%}


  @media all and ( min-width: 1024px ) {
    {%- if section.settings.title_font_size_desktop != blank -%}
      #shopify-section-{{ section.id }} .block-title {
        font-size: {{ section.settings.title_font_size_desktop }}px;
      }
    {%- endif -%}

    {%- if section.settings.copy_font_size_desktop != blank -%}
      #shopify-section-{{ section.id }} .block-copy {
        font-size: {{ section.settings.copy_font_size_desktop }}px;
      }
    {%- endif -%}
  }
{% endstyle %}

{% schema %}
{
  "name": "Best Sellers",
  "tag": "section",
  "class": "section-bestseller",
  "disabled_on": {
    "groups": ["header", "footer"],
    "templates": ["article", "index", "product", "customers/account", "customers/login"]
  },
  "settings": [
    {
      "type": "range",
      "id": "title_font_size_mob",
      "min": 12,
      "max": 54,
      "step": 1,
      "unit": "px",
      "label": "Block Title Font Size MOBILE",
      "default": 16
    },
    {
      "type": "range",
      "id": "title_font_size_desktop",
      "min": 12,
      "max": 54,
      "step": 1,
      "unit": "px",
      "label": "Block Title Font Size DESKTOP",
      "default": 20
    },
    {
      "type": "select",
      "id": "title_font_weight",
      "label": "Block Title Font Weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "600",
          "label": "Semi Bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "600"
    },
    {
      "type": "select",
      "id": "title_font_family",
      "label": "Block Title Font Type",
      "options": [
        {
          "value": "sans-serif",
          "label": "Sans Serif"
        },
        {
          "value": "serif",
          "label": "Serif"
        }
      ],
      "default": "sans-serif"
    },
    {
      "type": "range",
      "id": "copy_font_size_mob",
      "min": 12,
      "max": 54,
      "step": 1,
      "unit": "px",
      "label": "Block Copy Font Size MOBILE",
      "default": 12
    },
    {
      "type": "range",
      "id": "copy_font_size_desktop",
      "min": 12,
      "max": 54,
      "step": 1,
      "unit": "px",
      "label": "Block Copy Font Size DESKTOP",
      "default": 14
    },
    {
      "type": "select",
      "id": "copy_font_weight",
      "label": "Block Copy Font Weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "600",
          "label": "Semi Bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "300"
    },
    {
      "type": "select",
      "id": "copy_font_family",
      "label": "Block Title Font Type",
      "options": [
        {
          "value": "sans-serif",
          "label": "Sans Serif"
        },
        {
          "value": "serif",
          "label": "Serif"
        }
      ],
      "default": "sans-serif"
    }
  ],

  "presets": [
    {
      "name": "Best Sellers"
    }
  ]
}
{% endschema %}
